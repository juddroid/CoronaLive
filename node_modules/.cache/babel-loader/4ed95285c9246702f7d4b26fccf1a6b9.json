{"ast":null,"code":"const MS_7_DAYS = 7 * 24 * 60 * 60 * 1000;\n\nfunction isExpired(date) {\n  const now = new Date().getTime();\n  return now - date > MS_7_DAYS;\n}\n\nfunction imagePing(url, trackingInfo) {\n  const queryString = Object.keys(trackingInfo).map((id, index) => `${index ? '&' : ''}${id}=${trackingInfo[id]}`).join('');\n  const trackingElement = document.createElement('img');\n  trackingElement.src = `${url}?${queryString}`;\n  trackingElement.style.display = 'none';\n  document.body.appendChild(trackingElement);\n  document.body.removeChild(trackingElement);\n  return trackingElement;\n}\n\nexport function sendHostname() {\n  const hostname = location.hostname;\n  const applicationKeyForStorage = `TOAST UI chart for ${hostname}: Statistics`;\n  const date = window.localStorage.getItem(applicationKeyForStorage);\n\n  if (date && !isExpired(Number(date))) {\n    return;\n  }\n\n  window.localStorage.setItem(applicationKeyForStorage, String(new Date().getTime()));\n  setTimeout(() => {\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      imagePing('https://www.google-analytics.com/collect', {\n        v: 1,\n        t: 'event',\n        tid: 'UA-129983528-2',\n        cid: hostname,\n        dp: hostname,\n        dh: 'chart',\n        el: 'chart',\n        ec: 'use'\n      });\n    }\n  }, 1000);\n}","map":{"version":3,"sources":["/Users/raccoon/Desktop/fe-w6-free-style/node_modules/@toast-ui/chart/dist/esm/helpers/googleAnalytics.js"],"names":["MS_7_DAYS","isExpired","date","now","Date","getTime","imagePing","url","trackingInfo","queryString","Object","keys","map","id","index","join","trackingElement","document","createElement","src","style","display","body","appendChild","removeChild","sendHostname","hostname","location","applicationKeyForStorage","window","localStorage","getItem","Number","setItem","String","setTimeout","readyState","v","t","tid","cid","dp","dh","el","ec"],"mappings":"AAAA,MAAMA,SAAS,GAAG,IAAI,EAAJ,GAAS,EAAT,GAAc,EAAd,GAAmB,IAArC;;AACA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACrB,QAAMC,GAAG,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAZ;AACA,SAAOF,GAAG,GAAGD,IAAN,GAAaF,SAApB;AACH;;AACD,SAASM,SAAT,CAAmBC,GAAnB,EAAwBC,YAAxB,EAAsC;AAClC,QAAMC,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYH,YAAZ,EACfI,GADe,CACX,CAACC,EAAD,EAAKC,KAAL,KAAgB,GAAEA,KAAK,GAAG,GAAH,GAAS,EAAG,GAAED,EAAG,IAAGL,YAAY,CAACK,EAAD,CAAK,EADjD,EAEfE,IAFe,CAEV,EAFU,CAApB;AAGA,QAAMC,eAAe,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;AACAF,EAAAA,eAAe,CAACG,GAAhB,GAAuB,GAAEZ,GAAI,IAAGE,WAAY,EAA5C;AACAO,EAAAA,eAAe,CAACI,KAAhB,CAAsBC,OAAtB,GAAgC,MAAhC;AACAJ,EAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,eAA1B;AACAC,EAAAA,QAAQ,CAACK,IAAT,CAAcE,WAAd,CAA0BR,eAA1B;AACA,SAAOA,eAAP;AACH;;AACD,OAAO,SAASS,YAAT,GAAwB;AAC3B,QAAMC,QAAQ,GAAGC,QAAQ,CAACD,QAA1B;AACA,QAAME,wBAAwB,GAAI,sBAAqBF,QAAS,cAAhE;AACA,QAAMxB,IAAI,GAAG2B,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BH,wBAA5B,CAAb;;AACA,MAAI1B,IAAI,IAAI,CAACD,SAAS,CAAC+B,MAAM,CAAC9B,IAAD,CAAP,CAAtB,EAAsC;AAClC;AACH;;AACD2B,EAAAA,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4BL,wBAA5B,EAAsDM,MAAM,CAAC,IAAI9B,IAAJ,GAAWC,OAAX,EAAD,CAA5D;AACA8B,EAAAA,UAAU,CAAC,MAAM;AACb,QAAIlB,QAAQ,CAACmB,UAAT,KAAwB,aAAxB,IAAyCnB,QAAQ,CAACmB,UAAT,KAAwB,UAArE,EAAiF;AAC7E9B,MAAAA,SAAS,CAAC,0CAAD,EAA6C;AAClD+B,QAAAA,CAAC,EAAE,CAD+C;AAElDC,QAAAA,CAAC,EAAE,OAF+C;AAGlDC,QAAAA,GAAG,EAAE,gBAH6C;AAIlDC,QAAAA,GAAG,EAAEd,QAJ6C;AAKlDe,QAAAA,EAAE,EAAEf,QAL8C;AAMlDgB,QAAAA,EAAE,EAAE,OAN8C;AAOlDC,QAAAA,EAAE,EAAE,OAP8C;AAQlDC,QAAAA,EAAE,EAAE;AAR8C,OAA7C,CAAT;AAUH;AACJ,GAbS,EAaP,IAbO,CAAV;AAcH","sourcesContent":["const MS_7_DAYS = 7 * 24 * 60 * 60 * 1000;\nfunction isExpired(date) {\n    const now = new Date().getTime();\n    return now - date > MS_7_DAYS;\n}\nfunction imagePing(url, trackingInfo) {\n    const queryString = Object.keys(trackingInfo)\n        .map((id, index) => `${index ? '&' : ''}${id}=${trackingInfo[id]}`)\n        .join('');\n    const trackingElement = document.createElement('img');\n    trackingElement.src = `${url}?${queryString}`;\n    trackingElement.style.display = 'none';\n    document.body.appendChild(trackingElement);\n    document.body.removeChild(trackingElement);\n    return trackingElement;\n}\nexport function sendHostname() {\n    const hostname = location.hostname;\n    const applicationKeyForStorage = `TOAST UI chart for ${hostname}: Statistics`;\n    const date = window.localStorage.getItem(applicationKeyForStorage);\n    if (date && !isExpired(Number(date))) {\n        return;\n    }\n    window.localStorage.setItem(applicationKeyForStorage, String(new Date().getTime()));\n    setTimeout(() => {\n        if (document.readyState === 'interactive' || document.readyState === 'complete') {\n            imagePing('https://www.google-analytics.com/collect', {\n                v: 1,\n                t: 'event',\n                tid: 'UA-129983528-2',\n                cid: hostname,\n                dp: hostname,\n                dh: 'chart',\n                el: 'chart',\n                ec: 'use',\n            });\n        }\n    }, 1000);\n}\n"]},"metadata":{},"sourceType":"module"}